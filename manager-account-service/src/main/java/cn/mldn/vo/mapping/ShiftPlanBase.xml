<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.mldn.dao.IShiftPlanBaseDAO">

	<select id="findAll" resultType="ShiftPlanBase">
		select
		shift_plan_base_id,plan_name,plan_description,create_id,create_time,last_update_user_id,update_time,
		last_update_no,server_station_code,biz_zhy_code,state from
		shift_plan_base ;
	</select>
	
	<select id="findAllBySplit" parameterType="map" resultType="ShiftPlanBase">
		select shift_plan_base_id,plan_name,plan_description,create_id,create_time,last_update_user_id,update_time,
		last_update_no,server_station_code,biz_zhy_code,state from shift_plan_base 
		<where>
			<choose>
				<when test="column!=null and keyWord!=null">
					${column} like #{keyWord} and state=1 limit #{start},#{lineSize} 
				</when>
				<otherwise>
					state=1 limit #{start},#{lineSize} 
				</otherwise>
			</choose>
		</where>
	</select>
	<select id="getAllCount" parameterType="map" resultType="long">
		select count(*) from shift_plan_base
		<where>
			<choose>
				<when test="column!=null and keyWord!=null">
					${column} like #{keyWord} and state=1
				</when>
				<otherwise>
					state=1
				</otherwise>
			</choose>
		</where>
	</select>

	<insert id="doCreate" parameterType="ShiftPlanBase" useGeneratedKeys="true" keyProperty="shift_plan_base_id">
		insert into shift_plan_base (plan_name,plan_description,create_id,create_time,last_update_user_id,update_time,
		last_update_no,server_station_code,biz_zhy_code,state ) values (?, ?, ?, ?,10,?,1,'NO001',null,1)  ;
	</insert>
</mapper>